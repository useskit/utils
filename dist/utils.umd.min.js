/**
 * UsesKit Js v0.1.1  Author: Aipeli
 * Website: https://www.useskit.com
 * Email:   useskit@gmail.com
 * Released under the MIT license
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).utils={})}(this,(function(t){"use strict";function e(t){if(null===t||"object"!=typeof t)return t;let r=null;if(e.cache||(e.cache=new WeakMap),r=e.cache,r.has(t))return console.log("hey guys cache hit!!"),r.get(t);const n=Array.isArray(t)?[]:{};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e(t[r]));return r.set(t,n),n}const r=Object.prototype.toString;function n(t){return!!t&&"object"==typeof t}const o="[object Object]"===r.call(null)?function(t){return null!=t&&"[object Object]"===r.call(t)&&void 0===t.ownerDocument}:function(t){return"[object Object]"===r.call(t)};const i="isArray"in Array?Array.isArray:function(t){return"[object Array]"===r.call(t)};function s(t){return"[object Function]"===r.apply(t)}function a(t,e=!1){return null==t||!e&&""===t||isNaN(t)&&"NaN"===t.toString()||i(t)&&0===t.length||n(t)&&0===Object.keys(t).length}function u(t){for(let e=0;e<this.length;e++)if(o(this[e])&&o(t)&&JSON.stringify(this[e])===JSON.stringify(t))return e;return-1}function c(t){for(let e=0;e<this.length;e++)if(i(this[e])&&i(t)&&JSON.stringify(this[e])===JSON.stringify(t))return e;return-1}function l(t){let e=-1;return e=i(t)?c.call(this,t):o(t)?u.call(this,t):"number"==typeof t&&isNaN(t)?function(t){for(let e=0;e<t.length;e++)if(isNaN(t[e])&&"NaN"===t[e].toString())return e;return-1}(this):this.indexOf(t),e}function p(t){return!(t<0||t>=this.length)&&(this.splice(t,1),!0)}function h(t,e,r){let n;switch(r){case"y":n=new Date(t.setFullYear(t.getFullYear()+e));break;case"M":n=new Date(t.setMonth(t.getMonth()+e));break;case"w":n=new Date(t.setDate(t.getDate()+7*e));break;case"d":n=new Date(t.setDate(t.getDate()+e));break;case"h":n=new Date(t.setHours(t.getHours()+e));break;case"m":n=new Date(t.setMinutes(t.getMinutes()+e));break;case"s":n=new Date(t.setSeconds(t.getSeconds()+e));break;case"ms":n=new Date(t.setMilliseconds(t.getMilliseconds()+e));break;default:n=new Date(0)}return n}Object.prototype.toJson=function(){return JSON.stringify(this)},Function.prototype.getArguments=function(){const t=this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!==t.length||t[0]?t:[]},String.prototype.repeat=function(t){let e=this.toString(),r="";for(;t>0&&(t%2==1&&(r+=e),1!==t);)e+=e,t>>=1;return r},String.prototype.truncate=function(t,e){return t=~~t,e=void 0===e?"...":e,this.length>t?this.slice(0,t)+e:String(this)},String.prototype.stripScript=function(){return String(this||"").replace(/<script[^>]*>.*?<\/script>/g,"")},String.prototype.stripTags=function(){return String(this||"").replace(/<[^>]*>/g,"")},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.byteLength=function(t="utf8"){let e=0;if("utf-16"===(t=t?t.toLowerCase():"")||"utf16"===t)for(let t=0;t<this.length;t++)this.charCodeAt(t)<=65535?e+=2:e+=4;else for(let t=0;t<this.length;t++){const r=this.charCodeAt(t);e+=r<=127?1:r<=2047?2:r<=65535?3:4}return e},Array.prototype.remove=function(t){const e=l.call(this,t);return-1!==e&&p.call(this,e)},Array.prototype.removeAt=p,Array.prototype.inArray=l,Array.prototype.deepClone=function(){return e.call(this,this)},Array.prototype.compact=function(){return this.filter((t=>!a(t)))},Array.prototype.unique=function(){const t=[];for(let e=0;e<this.length;e++){const r=this[e];-1===t.inArray(r)&&t.push(r)}return t},Array.prototype.pluck=function(t){const e=[];return this.forEach((r=>{o(r)&&!a(r)&&e.push(r[t])})),e},Array.prototype.without=function(t){return this.filter((e=>-1===t.inArray(e)))},Array.prototype.groupBy=function(t){const e={},r=s(t)?t:function(e){return e[t]};return this.forEach(((t,n)=>{const o=r(t,n);a(o)||(a(e[o])&&(e[o]=[]),e[o].push(t))})),e},Array.prototype.sortBy=function(t="",e=!1){return this.map((e=>a(t)?{el:e,re:e}:(n(e[t])&&console.warn(`参与排序的值包含了对象,可能会影响排序结果, 提示: [${t}:${JSON.stringify(e[t])}]`),{el:e,re:e[t]}))).sort(((t,r)=>{const n=t.re,o=r.re;return e?n<o?1:n>o?-1:0:n<o?-1:n>o?1:0})).pluck("el")},Array.prototype.union=function(t){return this.concat(t.filter((t=>-1===this.inArray(t))))},Array.prototype.intersect=function(t){return this.filter((e=>t.inArray(e)>-1))},Array.prototype.diff=function(t){return this.filter((e=>-1===t.inArray(e))).concat(t.filter((t=>-1===this.inArray(t))))},Date.prototype.setLocale=function(t){return this.locale=t,this},Date.prototype.isLeapYear=function(){const t=this.getFullYear();return t%4==0&&t%100!=0||t%400==0},Date.prototype.getFirstDateInMonth=function(){return new Date(this.getFullYear(),this.getMonth(),1)},Date.prototype.getLastDateInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0)},Date.prototype.getFirstDateInQuarter=function(){return new Date(this.getFullYear(),3*~~(this.getMonth()/3),1)},Date.prototype.getLastDateInQuarter=function(){return new Date(this.getFullYear(),3*~~(this.getMonth()/3)+3,0)},Date.prototype.getDaysInMonth=function(){const t=this.getFullYear();switch(this.getMonth()){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return t%4==0&&t%100!=0||t%400==0?29:28;default:return 30}},Date.prototype.format=function(t="YYYY/MM/DD HH:mm:ss"){const e=this.locale||Date.locale||"eng",r=[{eng:{a:["am","pm"],A:["AM","PM"],dd:["Mo","Tu","We","Th","Fr","Sa","Su"],ddd:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],dddd:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"]},zho:{a:["上午","下午"],A:["上午","下午"],dd:["一","二","三","四","五","六","日"],ddd:["星一","星二","星三","星四","星五","星六","星日"],dddd:["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],MMM:["一","二","三","四","五","六","七","八","九","十","十一","十二"],MMMM:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]}}].pluck(e),n={YY:this.getFullYear().toString().substring(2),YYYY:this.getFullYear().toString(),M:(this.getMonth()+1).toString(),MM:(this.getMonth()+1).toString().padStart(2,"0"),MMM:r.pluck("MMM").flat(1)[this.getMonth()],MMMM:r.pluck("MMMM").flat(1)[this.getMonth()],DD:this.getDate().toString().padStart(2,"0"),HH:this.getHours().toString().padStart(2,"0"),hh:this.getHours()<13?this.getHours().toString().padStart(2,"0"):(this.getHours()-12).toString().padStart(2,"0"),mm:this.getMinutes().toString().padStart(2,"0"),ss:this.getSeconds().toString().padStart(2,"0"),a:this.getHours()<13?r.pluck("a").flat(1)[0]:r.pluck("a").flat(1)[1],A:this.getHours()<13?r.pluck("A").flat(1)[0]:r.pluck("A").flat(1)[1],E:0===this.getDay()?7:this.getDay(),d:this.getDay(),dd:r.pluck("dd").flat(1)[this.getDay()-1],ddd:r.pluck("ddd").flat(1)[this.getDay()-1],dddd:r.pluck("dddd").flat(1)[this.getDay()-1]};return Object.keys(n).forEach((e=>{t=t.replace(new RegExp(`\\b${e}\\b`,"g"),n[e])})),t},Date.prototype.add=function(t,e){return h(this,t,e)},Date.prototype.sub=function(t,e){return h(this,-t,e)},t.deepClone=e,t.getElementByXpath=function(t,e){try{const r=document.evaluate(t,e||document,null,XPathResult.ANY_TYPE,null),n=[];let o=r.iterateNext();for(;o;)n.push(o),o=r.iterateNext();return n}catch(t){return console.error(t),[]}},t.isArray=i,t.isBoolean=function(t){return"boolean"==typeof t},t.isDate=function(t){return"[object Date]"===r.call(t)},t.isElement=function(t){return!!t&&1===t.nodeType},t.isEmply=a,t.isFunction=s,t.isIterable=function(t){return!(!t||"number"!=typeof t.length||"string"==typeof t||s(t))&&(t.propertyIsEnumerable?!(!t.hasOwnProperty("length")||t.propertyIsEnumerable("length"))||/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/.test(r.call(t)):!!t.item)},t.isNumber=function(t){return"number"==typeof t&&isFinite(t)},t.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t.isObject=n,t.isPlainObject=o,t.isPrimitive=function(t){const e=typeof t;return"string"===e||"number"===e||"boolean"===e},t.isString=function(t){return"string"==typeof t},t.isTextNode=function(t){return!!t&&"#text"===t.nodeName},t.isUndefined=function(t){return void 0===t},t.isWindow=function(t){return/^\[object (?:Window|DOMWindw|global)\]$/.test(r.call(t))},Object.defineProperty(t,"__esModule",{value:!0})}));
